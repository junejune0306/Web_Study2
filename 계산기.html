<html>
	<head>
		<title> cert html 2 계산기 22김민재 </title>
		<style>
			* {
				position: relative;
				z-index: 1;
			}
			#num {
				font-size: 50;
				font-weight: 700;
			}
			tr:hover {z-index: 0;}
			td.gray:hover, td.white:hover, td#cal:hover {
				background-color: E1E1E1;
				border: 2px solid #C1C1C1;
				box-shadow: 0px 0px 50px 5px gray;
				z-index: 0;
			}
			td#cal:hover {
				background-color: 489CDE;
				border: 2px solid #3A7EB2;
			}
			td {
				border: 0px;
				text-align: center;
				width: 80px;
			}
			.gray {
				background-color: F0F0F0;
				border: 2px solid #F0F0F0;
			}
			.white {
				background-color: FFFFFF;
				border: 2px solid #FFFFFF;
				font-weight: 700;
			}
			#cal {
				background-color: 8ABAE0;
			}
		</style>
	</head>
	<body>
		<table style="z-index: 0; background-color: E6E6E6; box-shadow: 0px 0px 10px 1px gray" border="1" width="320px" height="517px" name="calc">
			<tr>
				<td style="text-align: left" colspan="4" height="17px"><h5>계산기<h5></td>
			</tr>
			<tr>
				<td id="formula" style="text-align: right; color: gray" colspan="4" align="right" height="25px"></td>
			</tr>
			<tr>
				<td id="num" style="text-align: right" colspan="4" align="right" height="175px">0</td>
			</tr>
			<tr>
				<td class="gray">CE</td> <td class="gray">C</td> <td class="gray">&lt;</td> <td id="cal">=</td> 
			</tr>
			<tr>
				<td class="white">7</td> <td class="white">8</td> <td class="white">9</td> <td class="gray">/</td> 
			</tr>
			<tr>
				<td class="white">4</td> <td class="white">5</td> <td class="white">6</td> <td class="gray">*</td> 
			</tr>
			<tr>
				<td class="white">1</td> <td class="white">2</td> <td class="white">3</td> <td class="gray">-</td> 
			</tr>
			<tr>
				<td class="white">+/-</td> <td class="white">0</td> <td class="white">.</td> <td class="gray">+</td> 
			</tr>
		</table>
		
		<script>
			var isSymbol = 0;
			for (var i = 0; i < 12; i++)
				document.getElementsByClassName("white")[i].onclick = function() {click(this)};
			document.getElementsByClassName("white")[9].onclick = function() {negative()};
			for (var i = 0; i < 7; i++)
				document.getElementsByClassName("gray")[i].onclick = function() {symbol(this)};
			
			function click(tmp) {
				num = document.getElementById("num").innerHTML;
				formula = document.getElementById("formula").innerHTML;
				if (num == 0 || isSymbol == 1) {
					if (formula[-1] == '=') {
						formula = "";
					}
					num = tmp.innerHTML;
					isSymbol = 0;
				}
				else {
					num += tmp.innerHTML;
				}
				if (num == '.') {
					num = "0.";
				}
				document.getElementById("num").innerHTML = num;
				document.getElementById("formula").innerHTML = formula;
			}
			
			function negative() {
				num = document.getElementById("num").innerHTML;
				if (num[0] == '-') {
					num = num.slice(1,-1);
				}
				else {
					num = '-' + num;
				}
				document.getElementById("num").innerHTML = num;
				if (num == null || num == "-") {
					num = 0;
				}
			}
			
			function symbol(tmp) {
				num = document.getElementById("num").innerHTML;
				formula = document.getElementById("formula").innerHTML;
				switch(tmp.innerHTML) {
					case 'CE':
						num = 0;
						if (formula[-1] = '=') {
							formula = "";
						}
						isSymbol = 0;
						break;
					case 'C':
						num = 0;
						formula = "";
						isSymbol = 0;
						break;
					case '&lt;':
						num = num[0, -2];
						if (num[0] == '-' || num == "-0" || num == null) {
							num = 0;
						}
						break;
					default:
						if (isSymbol == 0) {
							formula = eval(formula + num) + tmp.innerHTML;
							isSymbol = 1;
						}
						else {
							formula = formula[0, -2] + tmp.innerHTML;
						}
						num = formula[0, -2];
						break;
				}
					document.getElementById("num").innerHTML = num;
					document.getElementById("formula").innerHTML = formula;
			}
		</script>
	</body>
</html>